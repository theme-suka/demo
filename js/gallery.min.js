/*!
 * Hexo Theme Suka | gallery.js
 * Author: Ettrics
 * Link: https://github.com/SukkaW/hexo-theme-suka
 * License: GPL-3.0
 */
!function o(r,l,h){function a(i,t){if(!l[i]){if(!r[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(u)return u(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=l[i]={exports:{}};r[i][0].call(s.exports,function(t){var e=r[i][1][t];return a(e||t)},s,s.exports,o,r,l,h)}return l[i].exports}for(var u="function"==typeof require&&require,t=0;t<h.length;t++)a(h[t]);return a}({1:[function(t,e,i){
/*!
 * imagesLoaded v3.2.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(i,n){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return n(i,t,e)}):"object"==typeof e&&e.exports?e.exports=n(i,t("wolfy87-eventemitter"),t("eventie")):i.imagesLoaded=n(i,i.EventEmitter,i.eventie)}(window,function(e,t,i){"use strict";var s=e.jQuery,n=e.console;function o(t,e){for(var i in e)t[i]=e[i];return t}var r=Object.prototype.toString;function l(t){var e,i=[];if(e=t,"[object Array]"==r.call(e))i=t;else if("number"==typeof t.length)for(var n=0;n<t.length;n++)i.push(t[n]);else i.push(t);return i}function h(t,e,i){if(!(this instanceof h))return new h(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=l(t),this.options=o({},this.options),"function"==typeof e?i=e:o(this.options,e),i&&this.on("always",i),this.getImages(),s&&(this.jqDeferred=new s.Deferred);var n=this;setTimeout(function(){n.check()})}(h.prototype=new t).options={},h.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},h.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&a[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var a={1:!0,9:!0,11:!0};h.prototype.addElementBackgroundImages=function(t){for(var e=u(t),i=/url\(['"]*([^'"\)]+)['"]*\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[1];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}};var u=e.getComputedStyle||function(t){return t.currentStyle};function c(t){this.img=t}function f(t,e){this.url=t,this.element=e,this.img=new Image}return h.prototype.addImage=function(t){var e=new c(t);this.images.push(e)},h.prototype.addBackground=function(t,e){var i=new f(t,e);this.images.push(i)},h.prototype.check=function(){var n=this;if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length)for(var t=0;t<this.images.length;t++){var e=this.images[t];e.once("progress",i),e.check()}else this.complete();function i(t,e,i){setTimeout(function(){n.progress(t,e,i)})}},h.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&n&&n.log("progress: "+i,t,e)},h.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},(c.prototype=new t).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.proxyImage.src=this.img.src)},c.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this),i.unbind(this.proxyImage,"error",this),i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},(f.prototype=new c).check=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},f.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},h.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((s=t).fn.imagesLoaded=function(t,e){return new h(this,t,e).jqDeferred.promise(s(this))})},h.makeJQueryPlugin(),h})},{eventie:2,"wolfy87-eventemitter":3}],2:[function(t,r,l){
/*!
 * eventie v1.0.6
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */
!function(i){"use strict";var t=document.documentElement,e=function(){};function n(t){var e=i.event;return e.target=e.target||e.srcElement||t,e}t.addEventListener?e=function(t,e,i){t.addEventListener(e,i,!1)}:t.attachEvent&&(e=function(e,t,i){e[t+i]=i.handleEvent?function(){var t=n(e);i.handleEvent.call(i,t)}:function(){var t=n(e);i.call(e,t)},e.attachEvent("on"+t,e[t+i])});var s=function(){};t.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:t.detachEvent&&(s=function(e,i,n){e.detachEvent("on"+i,e[i+n]);try{delete e[i+n]}catch(t){e[i+n]=void 0}});var o={bind:e,unbind:s};"function"==typeof define&&define.amd?define(o):"object"==typeof l?r.exports=o:i.eventie=o}(window)},{}],3:[function(t,r,e){(function(){"use strict";function t(){}var e=t.prototype,i=this,n=i.EventEmitter;function o(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function s(t){return function(){return this[t].apply(this,arguments)}}e.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},e.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},e.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},e.addListener=function(t,e){var i,n=this.getListenersAsObject(t),s="object"==typeof e;for(i in n)n.hasOwnProperty(i)&&-1===o(n[i],e)&&n[i].push(s?e:{listener:e,once:!1});return this},e.on=s("addListener"),e.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},e.once=s("addOnceListener"),e.defineEvent=function(t){return this.getListeners(t),this},e.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},e.removeListener=function(t,e){var i,n,s=this.getListenersAsObject(t);for(n in s)s.hasOwnProperty(n)&&-1!==(i=o(s[n],e))&&s[n].splice(i,1);return this},e.off=s("removeListener"),e.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},e.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},e.manipulateListeners=function(t,e,i){var n,s,o=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},e.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},e.removeAllListeners=s("removeEvent"),e.emitEvent=function(t,e){var i,n,s,o,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(s=(i=r[o].slice(0)).length;s--;)!0===(n=i[s]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},e.trigger=s("emitEvent"),e.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},e.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},e._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},e._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=n,t},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof r&&r.exports?r.exports=t:i.EventEmitter=t}).call(this)},{}],4:[function(t,e,i){var n,s;n=this,s=function(){"use strict";var t={},a="m-p-g__controls",u="m-p-g__controls-close",c="m-p-g__controls-arrow",f="m-p-g__controls-arrow--next",m="m-p-g__controls-arrow--prev",d="m-p-g__btn";function g(t,e,i){var n=document.createElement(t);return e&&"object"==typeof e?e.forEach(function(t){n.classList.add(t)}):n.classList.add(e),n}return t.init=function(){for(var t=g("div",a),e=g("button",u),i=g("button",[c,f]),n=g("button",[c,m]),s=[e,i,n],o=0;o<s.length;o++)t.appendChild(s[o]);var r=g("span",d),l=g("span",d),h=g("span",d);return r.innerHTML='<svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',l.innerHTML='<svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>',h.innerHTML='<svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>',e.appendChild(r),i.appendChild(l),n.appendChild(h),t},t},"object"==typeof i?e.exports=s():n.CreateControls=s()},{}],5:[function(t,e,i){var n=t("./material-photo-gallery");window.MaterialPhotoGallery=n},{"./material-photo-gallery":6}],6:[function(t,e,i){var n,s;n=this,s=function(e,i,n){"use strict";var t=function(t){this._element=t,this._layout()},s=!1,o="transform",r="Webkit Moz ms".split(" "),l="";if(void 0!==(c=document.createElement("div")).style.transform&&(s=!0),!1===s)for(var h=0;h<r.length;h++)if(void 0!==c.style[r[h]+"Transform"]){l=r[h],o=l+"Transform",s=!0;break}var a,u={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},c=document.createElement("div");for(var f in u)if(void 0!==c.style[f]){a=u[f];break}function m(n,s,o){var r;return function(){var t=this,e=arguments,i=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||n.apply(t,e)},s),i&&n.apply(t,e)}}return t.prototype._cssClasses={GALLERY:"m-p-g",THUMBS_BOX:"m-p-g__thumbs",THUMB_IMG:"m-p-g__thumbs-img",FULL_BOX:"m-p-g__fullscreen",FULL_IMG:"m-p-g__fullscreen-img",CONTROLS:"m-p-g__controls",CONTROLS_CLOSE:"m-p-g__controls-close",CONTROLS_NEXT:"m-p-g__controls-arrow--next",CONTROLS_PREV:"m-p-g__controls-arrow--prev"},t.prototype._layout=function(){var r=this,t=e(document.querySelector("div[data-google-image-layout]"));t.on("progress",function(t,e){e.img.setAttribute("data-width",e.img.offsetWidth),e.img.setAttribute("data-height",e.img.offsetHeight)}),t.on("done",function(t){(new i).init({after:function(){r.init()}})}),t.on("fail",function(t){var e=r._element,i=document.createElement("div");i.className="m-p-g__alertBox";var n=document.createElement("h2");n.innerHTML="Error";var s=document.createElement("p");i.appendChild(n),i.appendChild(s),e.appendChild(i);var o=[];t.images.forEach(function(t){t.isLoaded||o.push(t.img.currentSrc)}),s.innerHTML="Failed to load: "+o}),window.onresize=m(function(){(new i).init({after:function(){setTimeout(function(){r._handleResize()},500)}})},25)},t.prototype.init=function(){var t=n.init();this._element.appendChild(t),this._gallery=this._element,this._thumbsBox=this._gallery.querySelector("."+this._cssClasses.THUMBS_BOX),this._thumbsNodeList=this._thumbsBox.querySelectorAll("."+this._cssClasses.THUMB_IMG),this._thumbs=Array.prototype.slice.call(this._thumbsNodeList),this._fullBox=this._gallery.querySelector("."+this._cssClasses.FULL_BOX),this._controls=this._gallery.querySelector("."+this._cssClasses.CONTROLS),this._closeBtn=this._controls.querySelector("."+this._cssClasses.CONTROLS_CLOSE),this._prevBtn=this._controls.querySelector("."+this._cssClasses.CONTROLS_PREV),this._nextBtn=this._controls.querySelector("."+this._cssClasses.CONTROLS_NEXT),this._fullImgsLoaded=!1,this._fullImgOpen=!1,this._bindEvents.call(this),this._loadFullImgs.call(this)},t.prototype._bindEvents=function(){for(var t=0,e=this._thumbs.length;t<e;t++)this._thumbs[t].addEventListener("click",this._handleThumbClick.bind(this)),this._thumbs[t].addEventListener("mouseover",this._handleThumbHover.bind(this));this._closeBtn.addEventListener("click",this._handleClose.bind(this)),this._nextBtn.addEventListener("click",this._handleNext.bind(this)),this._prevBtn.addEventListener("click",this._handlePrev.bind(this)),window.addEventListener("scroll",this._handleScroll.bind(this))},t.prototype._handleScroll=m(function(){this._resetFullImg.call(this)},25),t.prototype._handleResize=function(){this._resetFullImg.call(this)},t.prototype._loadFullImgs=function(){for(var t,e,i=0,n=this._thumbs.length;i<n;i++)t=this._thumbs[i].getAttribute("data-full"),(e=new Image).src=t,e.classList.add(this._cssClasses.FULL_IMG),this._fullBox.appendChild(e);this._loadFullImgsDone.call(this)},t.prototype._loadFullImgsDone=function(){e(this._fullBox).on("done",function(t){var e=t.images;this._fullImgs=[],this._fullImgDimensions=[],this._fullImgsTransforms=[];for(var i=0,n=e.length;i<n;i++){var s=e[i].img.getBoundingClientRect();this._fullImgs.push(e[i].img),this._positionFullImgs.call(this,e[i].img,i),this._fullImgDimensions.push(s)}this._fullImgsLoaded=!0}.bind(this))},t.prototype._positionFullImgs=function(t,e,i){var n=this._transformFullImg(t,this._thumbs[e]);this._fullImgsTransforms.push(n),t.style.marginTop=-t.height/2+"px",t.style.marginLeft=-t.width/2+"px",!1!==i&&(t.style[o]=n)},t.prototype._transformFullImg=function(t,e,i){var n,s,o,r;return t=t.getBoundingClientRect(),e=e.getBoundingClientRect(),i?(n=(e.width/i.width).toFixed(3),s=(e.height/i.height).toFixed(3),o=e.left-i.left+i.width/2,r=e.top-i.top+i.height/2):(n=(e.width/t.width).toFixed(3),s=(e.height/t.height).toFixed(3),o=e.left-t.left+t.width/2,r=e.top-t.top+t.height/2),"translate("+o+"px,"+r+"px) scale("+n+","+s+")"},t.prototype._resetFullImg=function(){this._fullImgsTransforms=[];for(var t=0,e=this._fullImgs.length;t<e;t++){this._fullImgDimensions[t].width,this._fullImgDimensions[t].height,this._fullImgDimensions[t].left,this._fullImgDimensions[t].top;t===this._thumbIndex&&this._fullImgOpen?(this._fullImgs[t].removeAttribute("style"),this._positionFullImgs.call(this,this._fullImgs[t],t,!1)):(this._fullImgs[t].removeAttribute("style"),this._positionFullImgs.call(this,this._fullImgs[t],t))}},t.prototype._handleThumbHover=function(t){this._fullImgsLoaded&&!this._fullImgOpen&&this._transformThumbSetup.call(this,t)},t.prototype._handleThumbClick=function(t){this._thumb!=t.target&&(this._thumb=t.target,this._thumbIndex=this._thumbs.indexOf(this._thumb),this._fullImg=this._fullImgs[this._thumbIndex]),this._setupComplete&&this._fullImgsLoaded&&!this._fullImgOpen&&(this._activateFullImg.call(this),this._activateControls.call(this),this._activateFullBox.call(this),this._disableScroll())},t.prototype._transformThumbSetup=function(t,e){this._setupComplete=!1,this._thumb=t.target,this._thumbIndex=this._thumbs.indexOf(this._thumb),this._fullImg=this._fullImgs[this._thumbIndex],this._setupComplete=!0,e&&e()},t.prototype._activateFullImg=function(){this._thumb.classList.add("hide"),this._fullImg.classList.add("active"),this._fullImg.style[o]="translate3d(0,0,0)",this._fullImgOpen=!0,this._fullImgs.forEach(function(t){t.classList.contains("active")||t.classList.add("almost-active")})},t.prototype._activateFullBox=function(){this._fullBox.classList.add("active")},t.prototype._activateControls=function(){this._controls.classList.add("active")},t.prototype._handleClose=function(){this._fullImgOpen&&this._closeFullImg.call(this)},t.prototype._closeFullImg=function(){var t=function(){this._fullBox.classList.remove("active"),this._controls.classList.remove("active"),this._fullImg.style[o]=this._fullImgsTransforms[this._thumbIndex],this._thumb.classList.remove("hide"),this._fullImgs.forEach(function(t){t.classList.remove("almost-active")});var t=function(){this._fullImg.classList.remove("active"),this._fullImg.removeEventListener(a,t),this._fullImgOpen=!1}.bind(this);this._fullImg.addEventListener(a,t),this._enableScroll()}.bind(this);window.requestAnimationFrame(t)},t.prototype._handleNext=function(){this._fullImgOpen&&this._changeImg.call(this,"next")},t.prototype._handlePrev=function(){this._fullImgOpen&&this._changeImg.call(this,"prev")},t.prototype._changeImg=function(t){this._thumbIndex=this._fullImgs.indexOf(this._fullImg),"next"===t?this._thumbIndex+=1:this._thumbIndex-=1,this._newFullImg="next"===t?this._fullImg.nextElementSibling:this._fullImg.previousElementSibling,this._newFullImg&&"IMG"===this._newFullImg.nodeName||(this._newFullImg=this._newFullImg="next"===t?this._fullImgs[0]:this._fullImgs[this._fullImgs.length-1],this._thumbIndex="next"===t?0:this._fullImgs.length-1),this._newFullImg.style[o]="translate3d(0,0,0)",this._fullImg.classList.remove("active"),this._fullImg.style[o]=this._fullImgsTransforms[this._thumbIndex-1],this._fullImg=this._newFullImg,this._fullImg.classList.add("active")},t.prototype._disableScroll=function(){function t(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}window.onwheel=t,window.ontouchmove=t},t.prototype._enableScroll=function(){window.onwheel=null,window.ontouchmove=null},t},"function"==typeof define&&define.amd?define(s):"object"==typeof i?e.exports=s(t("imagesLoaded"),t("./vendor/google-image-layout"),t("./create-controls")):n.Gallery=s(window.imagesLoaded,window.GoogleImageLayout)},{"./create-controls":4,"./vendor/google-image-layout":7,imagesLoaded:1}],7:[function(t,e,i){var n,s;n=this,s=function(t){"use strict";var o={},s=[],h=function(t,e,i){for(var n,s=0,o=0;o<t.length;o++)n=t[o],s+=parseInt(n.getAttribute("data-width"))/parseInt(n.getAttribute("data-height"));return e/s},a=function(t,e){var i;s.push(e);for(var n=0;n<t.length;n++)(i=t[n]).style.width=e*parseInt(i.getAttribute("data-width"))/parseInt(i.getAttribute("data-height"))+"px",i.style.height=e+"px",i.classList.add("layout-completed")};return o.init=function(t){t=t||{};for(var e,i=document.querySelectorAll("div[data-google-image-layout]"),n=i.length,s=0;s<n;s++)e=i[s],o.align(e);t.after&&t.after()},o.align=function(t){var e,i=t.clientWidth,n=parseInt(t.getAttribute("data-max-height")||120),s=(e=t.querySelectorAll("img"),[].map.call(e,function(t){return t}));t:for(;0<s.length;){for(var o=1;o<=s.length;o++){var r=s.slice(0,o),l=h(r,i);if(l<n){a(r,l),s=s.slice(o);continue t}}a(r,Math.min(n,l));break}},o},"function"==typeof define&&define.amd?define(function(){return s()}):"object"==typeof i?e.exports=s:n.GoogleImageLayout=s()},{}]},{},[5]);